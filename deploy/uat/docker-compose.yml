services:
  api:
    image: ${REGISTRY_HOST}/${REGISTRY_NAMESPACE}/api:${IMAGE_TAG}
    restart: unless-stopped
    env_file:
      - ./api.env
    environment:
      NODE_ENV: production
    ports:
      - "${API_PORT:-4000}:4000"

  web:
    image: ${REGISTRY_HOST}/${REGISTRY_NAMESPACE}/web:${IMAGE_TAG}
    restart: unless-stopped
    depends_on:
      - api
    ports:
      - "${WEB_PORT:-80}:80"

networks:
  default:
    name: hr-cms-uat
